import{u as v,r as a,j as t,L as d}from"./index-eNUBUYn0.js";import{X as u}from"./index.es-mXu4_z24.js";import{a as c}from"./api-Q4hECNGJ.js";const E=()=>{const o=v(),[x,i]=a.useState([]),[m,l]=a.useState([]);a.useEffect(()=>{const e=async()=>{try{const n=await c({method:"get",url:"admin/settings/currency-list"});l(n.data.listCurrency)}catch(r){console.error("Error fetching currency list:",r)}},s=async()=>{try{const n=await c({method:"get",url:"admin/settings/tax-list"});i(n.data.taxes)}catch(r){console.error("Error fetching tax list:",r)}};e(),s()},[]);const h=e=>{o(`/settings/edit-currency/${e._id}`)},y=async e=>{if(window.confirm("Are you sure you want to delete this Currency ?"))try{const r={method:"delete",url:`admin/settings/currency/${e._id}`},n=await c(r);console.log("Currency deleted successfully"),l(n.data.listCurrency),alert("Currency deleted successfully")}catch(r){console.error("Error :",r)}},g=e=>{o(`/settings/edit-tax/${e._id}`)},f=async e=>{if(window.confirm("Are you sure you want to delete this tax?"))try{const r={method:"delete",url:`admin/settings/tax/${e._id}`},n=await c(r);i(n.data.listTaxs),console.log("Tax deleted successfully"),alert("Tax deleted successfully")}catch(r){console.error("Error :",r)}},b=m.map((e,s)=>({_id:e._id,index:s+1,currencyName:e.currencyName,currencyRate:e.currencyRate})),p=x.map((e,s)=>({_id:e._id,index:s+1,taxName:e.taxName,taxPercentage:e.taxPercentage})),j=[{name:"Index",selector:(e,s)=>s+1},{name:"Currency Type",selector:e=>e.currencyName},{name:"Currency Rate",selector:e=>e.currencyRate},{name:"Action",cell:e=>t.jsxs("div",{children:[t.jsx("button",{onClick:()=>h(e),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",children:"Edit"}),t.jsx("button",{onClick:()=>y(e),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Delete"})]})}],N=[{name:"Index",selector:(e,s)=>s+1},{name:"Tax Type",selector:e=>e.taxName},{name:"Tax Percentage",selector:e=>e.taxPercentage},{name:"Action",cell:e=>t.jsxs("div",{children:[t.jsx("button",{onClick:()=>g(e),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",children:"Edit"}),t.jsx("button",{onClick:()=>f(e),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Delete"})]})}];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:[" ","Currency list"," "]}),t.jsx(d,{to:"/settings/add-currency",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",children:"Add Currency"})]}),t.jsx("div",{className:"flex flex-col mt-10",children:t.jsx(u,{columns:j,data:b,pagination:!0,highlightOnHover:!0,responsive:!0})})]}),t.jsxs("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md mt-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Tax list "}),t.jsx(d,{to:"/settings/add-tax",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",children:"Add Tax"})]}),t.jsx("div",{className:"flex flex-col mt-10",children:t.jsx(u,{columns:N,data:p,pagination:!0,highlightOnHover:!0,responsive:!0})})]})]})};export{E as default};
