import{u as b,a as h,r as l,j as t,L as f}from"./index-eNUBUYn0.js";import{a as x}from"./api-Q4hECNGJ.js";const y=()=>{const m=b(),{id:c}=h(),[i,u]=l.useState(null);console.log(i);const[n,r]=l.useState({_id:c,taxName:"",taxPercentage:0});l.useEffect(()=>{(async()=>{var s;try{const e={method:"get",url:`admin/settings/tax/${c}`},a=await x(e);((s=a==null?void 0:a.data)==null?void 0:s.status)==="success"&&(u(a.data.TaxData),r({_id:a.data.TaxData._id,taxName:a.data.TaxData.taxName,taxPercentage:a.data.TaxData.taxPercentage}))}catch(e){console.log(e)}})()},[c]);const d=o=>{const{name:s,value:e}=o.target;r(a=>({...a,[s]:e}))},g=async o=>{var s;o.preventDefault(),console.log(n);try{const a=await x({method:"post",url:"admin/settings/edit-tax",data:n});((s=a==null?void 0:a.data)==null?void 0:s.status)==="success"&&m("/settings")}catch(e){console.log(e)}};return t.jsx("div",{children:t.jsxs("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Edit Tax"}),t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"taxName",className:"block text-gray-700 font-bold mb-2",children:"Tax Name"}),t.jsx("input",{id:"taxName",name:"taxName",type:"text",value:n.taxName,className:"w-full lg:w-1/2 mt-1 p-2 block rounded-md border-gray-300",onChange:d})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"taxPercentage",className:"block text-gray-700 font-bold mb-2",children:"Tax Percentage"}),t.jsx("input",{id:"taxPercentage",name:"taxPercentage",type:"number",value:n.taxPercentage,className:"w-full lg:w-1/2 mt-1 p-2 block rounded-md border-gray-300",onChange:d})]}),t.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Submit"}),t.jsx(f,{to:"/settings",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-2",children:"Cancel"})]})]})})};export{y as default};
